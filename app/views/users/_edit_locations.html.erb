<ul class="location-list">
  <% user.locations.each do |location| %>
    <li class="location-list-show" value="<%= location.id %>">
      <%= location.city %>, <%= location.country %>

      <form action="<%= user_user_location_url(
              @user,
              UserLocation.where(
                user_id: user.id,
                location_id: location.id)[0]) %>"
            id="location-delete"
            method="post">
        <input
           name="_method"
           type="hidden"
           value="delete">
        <input
           name="authenticity_token"
           type="hidden"
           value="<%= form_authenticity_token %>">
        <input type="submit" value="Delete">
      </form>
    </li>
  <% end %>
</ul>

<form action="<%= user_user_locations_url(user) %>" method="post">
  <input
     name="authenticity_token"
     type="hidden"
     value="<%= form_authenticity_token %>">

  <label for="location_name">New Location</label>
  <input
     id="location_name"
     name="location[name]"
     type="text">
  <br>
  <input type="submit" value="Create">
</form>